<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Research to Skill Creator</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #581c87;
            margin: 0;
            padding: 0;
        }

        * {
            scrollbar-width: thin;
            scrollbar-color: #ec4899 #7c3aed;
        }

        *::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        *::-webkit-scrollbar-track {
            background: #7c3aed;
        }

        *::-webkit-scrollbar-thumb {
            background: #ec4899;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        function App() {
            const [mdContent, setMdContent] = useState('');
            const [skillName, setSkillName] = useState('');
            const [skillDescription, setSkillDescription] = useState('');
            const [brandVoice, setBrandVoice] = useState('');
            const [brandGuide, setBrandGuide] = useState('');
            const [fileName, setFileName] = useState('');
            const [brandVoiceFileName, setBrandVoiceFileName] = useState('');
            const [brandGuideFileName, setBrandGuideFileName] = useState('');
            const [showPreview, setShowPreview] = useState(false);

            const handleFileUpload = (e) => {
                const file = e.target.files[0];
                if (file && file.name.endsWith('.md')) {
                    setFileName(file.name);
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        setMdContent(event.target.result);
                    };
                    reader.readAsText(file);
                } else {
                    alert('Please upload a .md file');
                }
            };

            const handleBrandVoiceUpload = (e) => {
                const file = e.target.files[0];
                if (file) {
                    setBrandVoiceFileName(file.name);
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        setBrandVoice(event.target.result);
                    };
                    reader.readAsText(file);
                }
            };

            const handleBrandGuideUpload = (e) => {
                const file = e.target.files[0];
                if (file) {
                    setBrandGuideFileName(file.name);
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        setBrandGuide(event.target.result);
                    };
                    reader.readAsText(file);
                }
            };

            const handleResearchUpload = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        setMdContent(event.target.result);
                    };
                    reader.readAsText(file);
                }
            };

            const generateSkillContent = () => {
                const frontmatter = `---
name: ${skillName || 'your-skill-name'}
description: ${skillDescription || 'Add a comprehensive description including when to use this skill'}
---

`;

                const brandSection = brandVoice || brandGuide ? `# Brand Guidelines

${brandVoice ? `## Brand Voice\n\n${brandVoice}\n\n` : ''}${brandGuide ? `## Brand Guide\n\n${brandGuide}\n\n` : ''}` : '';

                const researchSection = mdContent ? `# Research Content

${mdContent}

` : '';

                return frontmatter + brandSection + researchSection;
            };

            const downloadSkill = async () => {
                const content = generateSkillContent();
                const folderName = skillName || 'your-skill';

                // Create a zip file with the skill structure
                const zip = new JSZip();
                const skillFolder = zip.folder(folderName);
                skillFolder.file('SKILL.md', content);

                // Generate the zip file
                const blob = await zip.generateAsync({ type: 'blob' });

                // Download as .skill file
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `${folderName}.skill`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            };

            return (
                <div className="min-h-screen p-8" style={{ background: '#581c87' }}>
                    <div className="max-w-7xl mx-auto">
                        {/* Header */}
                        <div className="text-center mb-12">
                            <h1 className="text-5xl font-bold mb-4" style={{ color: '#ec4899' }}>
                                Research to Skill Creator
                            </h1>
                            <p className="text-white text-lg opacity-90">
                                Transform your research into powerful Claude skills with your brand identity
                            </p>
                        </div>

                        <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            {/* Left Column - Input Forms */}
                            <div className="space-y-6">
                                {/* File Upload */}
                                <div className="bg-purple-900 bg-opacity-50 rounded-lg p-6 backdrop-blur">
                                    <h2 className="text-2xl font-semibold mb-4" style={{ color: '#ec4899' }}>
                                        1. Upload Research
                                    </h2>
                                    <div className="border-2 border-dashed border-purple-400 rounded-lg p-8 text-center hover:border-pink-400 transition-colors">
                                        <input
                                            type="file"
                                            accept=".md"
                                            onChange={handleFileUpload}
                                            className="hidden"
                                            id="file-upload"
                                        />
                                        <label htmlFor="file-upload" className="cursor-pointer">
                                            <div className="text-white mb-2">
                                                <svg className="w-12 h-12 mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                                                </svg>
                                                {fileName ? (
                                                    <span className="text-pink-300 font-medium">{fileName}</span>
                                                ) : (
                                                    <span>Click to upload .md file</span>
                                                )}
                                            </div>
                                        </label>
                                    </div>
                                </div>

                                {/* Skill Details */}
                                <div className="bg-purple-900 bg-opacity-50 rounded-lg p-6 backdrop-blur">
                                    <h2 className="text-2xl font-semibold mb-4" style={{ color: '#ec4899' }}>
                                        2. Skill Details
                                    </h2>
                                    <div className="space-y-4">
                                        <div>
                                            <label className="block text-white mb-2 font-medium">Skill Name</label>
                                            <input
                                                type="text"
                                                value={skillName}
                                                onChange={(e) => setSkillName(e.target.value)}
                                                placeholder="e.g., analog-social-marketing"
                                                className="w-full px-4 py-3 rounded-lg bg-purple-800 text-white border border-purple-600 focus:border-pink-400 focus:outline-none placeholder-purple-300"
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-white mb-2 font-medium">Skill Description</label>
                                            <textarea
                                                value={skillDescription}
                                                onChange={(e) => setSkillDescription(e.target.value)}
                                                placeholder="Describe what this skill does and when Claude should use it. Be comprehensive - this is the primary trigger mechanism."
                                                rows={4}
                                                className="w-full px-4 py-3 rounded-lg bg-purple-800 text-white border border-purple-600 focus:border-pink-400 focus:outline-none placeholder-purple-300"
                                            />
                                        </div>
                                    </div>
                                </div>

                                {/* Brand Identity */}
                                <div className="bg-purple-900 bg-opacity-50 rounded-lg p-6 backdrop-blur">
                                    <h2 className="text-2xl font-semibold mb-4" style={{ color: '#ec4899' }}>
                                        3. Brand Identity
                                    </h2>
                                    <div className="space-y-4">
                                        <div>
                                            <div className="flex items-center justify-between mb-2">
                                                <label className="block text-white font-medium">Brand Voice</label>
                                                <div>
                                                    <input
                                                        type="file"
                                                        accept=".txt,.md,.doc,.docx"
                                                        onChange={handleBrandVoiceUpload}
                                                        className="hidden"
                                                        id="brand-voice-upload"
                                                    />
                                                    <label htmlFor="brand-voice-upload" className="cursor-pointer text-pink-300 text-sm hover:text-pink-400 transition-colors">
                                                        {brandVoiceFileName ? `üìÑ ${brandVoiceFileName}` : 'üìÅ Upload file'}
                                                    </label>
                                                </div>
                                            </div>
                                            <textarea
                                                value={brandVoice}
                                                onChange={(e) => setBrandVoice(e.target.value)}
                                                placeholder="Describe your brand's tone, personality, and communication style..."
                                                rows={4}
                                                className="w-full px-4 py-3 rounded-lg bg-purple-800 text-white border border-purple-600 focus:border-pink-400 focus:outline-none placeholder-purple-300"
                                            />
                                        </div>
                                        <div>
                                            <div className="flex items-center justify-between mb-2">
                                                <label className="block text-white font-medium">Brand Guide</label>
                                                <div>
                                                    <input
                                                        type="file"
                                                        accept=".txt,.md,.doc,.docx"
                                                        onChange={handleBrandGuideUpload}
                                                        className="hidden"
                                                        id="brand-guide-upload"
                                                    />
                                                    <label htmlFor="brand-guide-upload" className="cursor-pointer text-pink-300 text-sm hover:text-pink-400 transition-colors">
                                                        {brandGuideFileName ? `üìÑ ${brandGuideFileName}` : 'üìÅ Upload file'}
                                                    </label>
                                                </div>
                                            </div>
                                            <textarea
                                                value={brandGuide}
                                                onChange={(e) => setBrandGuide(e.target.value)}
                                                placeholder="Include brand guidelines, visual identity, messaging frameworks, or any specific requirements..."
                                                rows={4}
                                                className="w-full px-4 py-3 rounded-lg bg-purple-800 text-white border border-purple-600 focus:border-pink-400 focus:outline-none placeholder-purple-300"
                                            />
                                        </div>
                                    </div>
                                </div>

                                {/* Research Content Editor */}
                                {mdContent && (
                                    <div className="bg-purple-900 bg-opacity-50 rounded-lg p-6 backdrop-blur">
                                        <div className="flex items-center justify-between mb-4">
                                            <h2 className="text-2xl font-semibold" style={{ color: '#ec4899' }}>
                                                4. Edit Research Content
                                            </h2>
                                            <div>
                                                <input
                                                    type="file"
                                                    accept=".txt,.md"
                                                    onChange={handleResearchUpload}
                                                    className="hidden"
                                                    id="research-upload"
                                                />
                                                <label htmlFor="research-upload" className="cursor-pointer text-pink-300 text-sm hover:text-pink-400 transition-colors">
                                                    üìÅ Replace file
                                                </label>
                                            </div>
                                        </div>
                                        <textarea
                                            value={mdContent}
                                            onChange={(e) => setMdContent(e.target.value)}
                                            rows={10}
                                            className="w-full px-4 py-3 rounded-lg bg-purple-800 text-white border border-purple-600 focus:border-pink-400 focus:outline-none font-mono text-sm"
                                        />
                                    </div>
                                )}
                            </div>

                            {/* Right Column - Preview & Actions */}
                            <div className="space-y-6">
                                {/* Preview Toggle */}
                                <div className="bg-purple-900 bg-opacity-50 rounded-lg p-6 backdrop-blur">
                                    <h2 className="text-2xl font-semibold mb-4" style={{ color: '#ec4899' }}>
                                        Preview & Generate
                                    </h2>
                                    <div className="flex gap-4">
                                        <button
                                            onClick={() => setShowPreview(!showPreview)}
                                            className="flex-1 px-6 py-3 rounded-lg font-semibold transition-all"
                                            style={{
                                                background: showPreview ? '#ec4899' : '#7c3aed',
                                                color: 'white'
                                            }}
                                        >
                                            {showPreview ? 'Hide Preview' : 'Show Preview'}
                                        </button>
                                        <button
                                            onClick={downloadSkill}
                                            disabled={!skillName || !mdContent}
                                            className="flex-1 px-6 py-3 rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed"
                                            style={{ background: '#ec4899', color: 'white' }}
                                        >
                                            Download .skill File
                                        </button>
                                    </div>
                                </div>

                                {/* Preview Content */}
                                {showPreview && (
                                    <div className="bg-purple-900 bg-opacity-50 rounded-lg p-6 backdrop-blur">
                                        <h2 className="text-2xl font-semibold mb-4" style={{ color: '#ec4899' }}>
                                            Skill Preview
                                        </h2>
                                        <div className="bg-purple-950 rounded-lg p-6 max-h-96 overflow-y-auto">
                                            <pre className="text-white text-sm whitespace-pre-wrap font-mono">
                                                {generateSkillContent()}
                                            </pre>
                                        </div>
                                    </div>
                                )}

                                {/* Instructions */}
                                <div className="bg-purple-900 bg-opacity-50 rounded-lg p-6 backdrop-blur">
                                    <h2 className="text-2xl font-semibold mb-4" style={{ color: '#ec4899' }}>
                                        How It Works
                                    </h2>
                                    <ol className="text-white space-y-3">
                                        <li className="flex items-start">
                                            <span className="font-bold mr-3" style={{ color: '#ec4899' }}>1.</span>
                                            <span>Upload your research markdown file with all your insights</span>
                                        </li>
                                        <li className="flex items-start">
                                            <span className="font-bold mr-3" style={{ color: '#ec4899' }}>2.</span>
                                            <span>Give your skill a unique name and comprehensive description</span>
                                        </li>
                                        <li className="flex items-start">
                                            <span className="font-bold mr-3" style={{ color: '#ec4899' }}>3.</span>
                                            <span>Add your brand voice and guidelines (type or upload files)</span>
                                        </li>
                                        <li className="flex items-start">
                                            <span className="font-bold mr-3" style={{ color: '#ec4899' }}>4.</span>
                                            <span>Edit or replace research content as needed</span>
                                        </li>
                                        <li className="flex items-start">
                                            <span className="font-bold mr-3" style={{ color: '#ec4899' }}>5.</span>
                                            <span>Download your .skill file and upload it directly to Claude!</span>
                                        </li>
                                    </ol>
                                </div>

                                {/* Tips */}
                                <div className="bg-purple-900 bg-opacity-50 rounded-lg p-6 backdrop-blur">
                                    <h2 className="text-2xl font-semibold mb-4" style={{ color: '#ec4899' }}>
                                        Pro Tips
                                    </h2>
                                    <ul className="text-white space-y-2 text-sm">
                                        <li className="flex items-start">
                                            <span className="mr-2" style={{ color: '#ec4899' }}>‚ú¶</span>
                                            <span>Upload text files (.txt, .md) for brand voice and guide</span>
                                        </li>
                                        <li className="flex items-start">
                                            <span className="mr-2" style={{ color: '#ec4899' }}>‚ú¶</span>
                                            <span>Make your description detailed - it's how Claude knows when to use this skill</span>
                                        </li>
                                        <li className="flex items-start">
                                            <span className="mr-2" style={{ color: '#ec4899' }}>‚ú¶</span>
                                            <span>Include specific triggers and use cases in the description</span>
                                        </li>
                                        <li className="flex items-start">
                                            <span className="mr-2" style={{ color: '#ec4899' }}>‚ú¶</span>
                                            <span>Your brand voice will be included in every output from this skill</span>
                                        </li>
                                        <li className="flex items-start">
                                            <span className="mr-2" style={{ color: '#ec4899' }}>‚ú¶</span>
                                            <span>Edit the research content directly or replace the entire file</span>
                                        </li>
                                        <li className="flex items-start">
                                            <span className="mr-2" style={{ color: '#ec4899' }}>‚ú¶</span>
                                            <span>The .skill file can be uploaded directly to Claude - no extra steps!</span>
                                        </li>
                                    </ul>
                                </div>

                                {/* Upload Instructions */}
                                <div className="bg-purple-900 bg-opacity-50 rounded-lg p-6 backdrop-blur">
                                    <h2 className="text-2xl font-semibold mb-4" style={{ color: '#ec4899' }}>
                                        How to Upload to Claude
                                    </h2>
                                    <ol className="text-white space-y-3 text-sm">
                                        <li className="flex items-start">
                                            <span className="font-bold mr-3" style={{ color: '#ec4899' }}>1.</span>
                                            <span>Open <strong>Claude Desktop</strong> or <strong>claude.ai</strong></span>
                                        </li>
                                        <li className="flex items-start">
                                            <span className="font-bold mr-3" style={{ color: '#ec4899' }}>2.</span>
                                            <span>Go to <strong>Settings</strong> (gear icon)</span>
                                        </li>
                                        <li className="flex items-start">
                                            <span className="font-bold mr-3" style={{ color: '#ec4899' }}>3.</span>
                                            <span>Click <strong>Capabilities</strong></span>
                                        </li>
                                        <li className="flex items-start">
                                            <span className="font-bold mr-3" style={{ color: '#ec4899' }}>4.</span>
                                            <span>Under <strong>Skills</strong>, click <strong>+ Add</strong></span>
                                        </li>
                                        <li className="flex items-start">
                                            <span className="font-bold mr-3" style={{ color: '#ec4899' }}>5.</span>
                                            <span>Select your downloaded <strong>.skill</strong> file</span>
                                        </li>
                                        <li className="flex items-start">
                                            <span className="font-bold mr-3" style={{ color: '#ec4899' }}>6.</span>
                                            <span>Done! Claude will now use your research and brand voice üéâ</span>
                                        </li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>